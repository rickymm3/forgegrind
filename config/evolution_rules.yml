lupin:
  parent: Lupin
  rules:
    fenra:
      child: Fenra
      trigger_level: 2
      priority: 30
      guard:
        all:
          - type: badge_unlocked
            key: well_fed
          - type: badge_unlocked
            key: spirited
          - type: tracker_at_least
            key: hunger_score
            value: 85
      notes: "Playful, well-cared-for Lupin blossoms into Fenra once it stays upbeat and well fed."
    blazewulf:
      child: Blazewulf
      trigger_level: 2
      priority: 25
      guard:
        all:
          - type: badge_unlocked
            key: starved
          - type: tracker_at_least
            key: hunger_score
            value: 60
          - type: tracker_at_most
            key: mood_score
            value: 45
      notes: "A Lupin that survived starvation and kept its fiery edge becomes Blazewulf."
    duskhound:
      child: Duskhound
      trigger_level: 2
      priority: 20
      guard:
        all:
          - type: flag_true
            key: forest_explorer
        any:
          - type: badge_unlocked
            key: spirited
          - type: badge_unlocked
            key: diligent_feeder
      notes: "Seasoned wanderers who temper their mood in the wilds evolve into Duskhound."
    galeclaw_default:
      child: Galeclaw
      trigger_level: 2
      priority: 5
      guard: {}
      notes: "Lupins that grow without special circumstances mature into Galeclaw."
