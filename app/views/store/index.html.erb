<% content_for :title, "Store" %>
<% content_for :main_class, "px-0 pt-4 flex flex-col" %>
<% content_for :main_inner_class, "px-4 flex flex-col h-full" %>

<% tabs = { "items" => "Items", "eggs" => "Eggs" } %>
<% header_body = render("store/header_body", tabs: tabs, active_tab: @active_tab, condensed: true) %>

<% content_for :header do %>
  <%= render "shared/page_header",
             title: "Marketplace",
             subtitle: "Browse limited-time eggs and curated bundles.",
             class: "page-header--condensed",
             body: header_body %>
<% end %>

<div class="mx-auto w-full max-w-5xl flex-1 pb-32 pt-8">
  <% case @active_tab %>
  <% when "items" %>
    <section class="rounded-3xl border border-slate-800 bg-slate-950/70 p-8 shadow-inner shadow-slate-950/40">
      <div class="space-y-4 text-center text-slate-300">
        <h2 class="text-xl font-semibold text-slate-100">Items arriving soon</h2>
        <p class="text-sm">
          The Forge is still crafting consumables and gear. Check back later for limited-time bundles and seasonal offerings.
        </p>
      </div>
    </section>
  <% when "eggs" %>
    <section class="space-y-6">
      <div id="store-eggs-carousel">
        <%= render "eggs_carousel", eggs: @eggs, highlighted_egg_id: @highlighted_egg_id %>
      </div>
      <%= turbo_frame_tag "toast-container", class: "fixed top-6 right-6 z-40 flex flex-col items-end" %>
    </section>
  <% else %>
    <p class="rounded-3xl border border-rose-500/30 bg-rose-500/10 p-4 text-sm text-rose-100">
      Unknown tab.
    </p>
  <% end %>
</div>
