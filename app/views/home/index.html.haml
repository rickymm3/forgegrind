- content_for :title, "ForgeGrind â€” Raise, Hatch, Explore"
- content_for :main_classes_override, "p-0"

- incubation_seconds = (@starter_egg&.hatch_duration || 15).to_i
- starter_distance   = distance_of_time_in_words(Time.current, Time.current + incubation_seconds.seconds, include_seconds: true)
- hatch_path         = user_signed_in? ? (@active_starter_egg ? user_egg_path(@active_starter_egg) : pets_path(view: "eggs")) : nil
.min-h-screen.bg-gradient-to-b.from-slate-950.via-slate-900.to-slate-950.text-slate-50
  %header{ class: "sticky top-0 z-30 backdrop-blur bg-slate-950/80 border-b border-slate-900" }
    .mx-auto.flex.max-w-6xl.items-center.justify-between.gap-4.px-4.py-3
      .flex.items-center.gap-3
        %div{ class: "h-10 w-10 rounded-2xl bg-indigo-500/20 border border-indigo-400/40 flex items-center justify-center text-lg font-black text-indigo-200 shadow-inner shadow-indigo-900/60" }
          FG
        .leading-tight
          %p{ class: "text-xs uppercase tracking-[0.2em] text-indigo-200/80" } Creature Care RPG
          %p.text-lg.font-semibold.text-white ForgeGrind
      %nav.hidden.md:flex.items-center.gap-4.text-sm.font-semibold.text-slate-200
        %a{ href: "#hatch" , class: "hover:text-white transition" } Hatch Flow
        %a{ href: "#loop" , class: "hover:text-white transition" } Loop
        %a{ href: "#devices" , class: "hover:text-white transition" } Devices
      .flex.items-center.gap-2
        - if user_signed_in?
          = link_to "Go to eggs", hatch_path, class: "hidden sm:inline-flex rounded-full border border-slate-800 bg-slate-900/70 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:text-white"
          = link_to "Logout", destroy_user_session_path, method: :delete, class: "rounded-full bg-indigo-500 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-indigo-600"
        - else
          = link_to "Log in", new_user_session_path, class: "hidden sm:inline-flex rounded-full border border-slate-800 bg-slate-900/70 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:text-white"
          = link_to "Play free", new_user_registration_path, class: "rounded-full bg-indigo-500 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-indigo-600"

  .mx-auto.flex.max-w-6xl.flex-col.gap-10.px-4.py-10
    %div{ class: "grid gap-8 lg:grid-cols-[1.2fr,1fr]" }
      .space-y-6
        %div{ class: "inline-flex items-center gap-2 rounded-full bg-indigo-500/10 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-indigo-100 border border-indigo-500/30" }
          %span.text-base{ aria: { hidden: true } } ðŸ¥š
          Starter Egg â€¢ Hatches in #{starter_distance}
        %h1.text-4xl.font-black.leading-tight.text-white.sm:text-5xl
          Raise, bond, and hatch in minutes â€” then take your party on story-rich expeditions.
        %p{ class: "max-w-2xl text-lg text-slate-200/90" }
          Claim your free Starter Egg, incubate for just #{starter_distance}, and watch it crack into your first companion. Equip up to three pets, use their abilities to unlock paths, and push deeper into the frontier.
        .flex.flex-wrap.items-center.gap-3
          - if user_signed_in?
            = link_to ( @active_starter_egg ? "Open your Starter Egg" : "View your eggs" ), hatch_path, class: "inline-flex items-center gap-2 rounded-full bg-indigo-500 px-5 py-3 text-sm font-semibold text-white shadow-lg shadow-indigo-900/50 transition hover:bg-indigo-600"
            = link_to "Visit nursery", pets_path(view: "eggs"), class: "inline-flex items-center gap-2 rounded-full border border-slate-800 bg-slate-900/70 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:text-white"
          - else
            = link_to "Start with the Starter Egg", new_user_registration_path, class: "inline-flex items-center gap-2 rounded-full bg-indigo-500 px-5 py-3 text-sm font-semibold text-white shadow-lg shadow-indigo-900/50 transition hover:bg-indigo-600"
            = link_to "Already have an account? Log in", new_user_session_path, class: "inline-flex items-center gap-2 rounded-full border border-slate-800 bg-slate-900/70 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:text-white"
        .grid.gap-4.sm:grid-cols-3
          %div{ class: "rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg shadow-slate-950/40" }
            %p.text-xs.font-semibold.uppercase.tracking-wide.text-slate-400 Step 1
            %p.mt-1.text-sm.font-semibold.text-white Claim your Starter Egg
            %p.mt-1.text-sm.text-slate-300 Auto-granted on signup. No friction, no cost.
          %div{ class: "rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg shadow-slate-950/40" }
            %p.text-xs.font-semibold.uppercase.tracking-wide.text-slate-400 Step 2
            %p.mt-1.text-sm.font-semibold.text-white Incubate for #{starter_distance}
            %p.mt-1.text-sm.text-slate-300 A short timer keeps the loop snackable on mobile.
          %div{ class: "rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg shadow-slate-950/40" }
            %p.text-xs.font-semibold.uppercase.tracking-wide.text-slate-400 Step 3
            %p.mt-1.text-sm.font-semibold.text-white Hatch and equip
            %p.mt-1.text-sm.text-slate-300 Unlock abilities, start expeditions, and earn more eggs.

      .relative
        %div{ class: "rounded-3xl border border-indigo-500/40 bg-gradient-to-b from-indigo-900/70 to-slate-950/90 p-6 shadow-2xl shadow-indigo-900/60" }
          .flex.items-center.justify-between.gap-3
            %div
              %p{ class: "text-xs uppercase tracking-[0.2em] text-indigo-200/80" } Incubation Panel
              %p.mt-1.text-xl.font-semibold.text-white Hatching in real time
            %div{ class: "text-right text-sm text-indigo-100/80" }
              %p 15-second starter timer
              %p Soft notifications when ready
          .mt-6.grid.gap-4
            %div{ class: "rounded-2xl border border-slate-800 bg-slate-950/70 p-4 flex items-center justify-between" }
              .flex.items-center.gap-3
                %div{ class: "h-12 w-12 rounded-2xl bg-indigo-500/20 border border-indigo-400/30 flex items-center justify-center text-lg" } ðŸ¥š
                %div
                  %p.text-sm.font-semibold.text-white Starter Egg
                  %p.text-xs.text-slate-300 Incubation: #{starter_distance}
              - if user_signed_in?
                = link_to ( @active_starter_egg ? "Resume" : "View eggs" ), hatch_path, class: "rounded-full bg-indigo-500 px-3 py-2 text-xs font-semibold text-white shadow hover:bg-indigo-600"
              - else
                = link_to "Try now", new_user_registration_path, class: "rounded-full bg-indigo-500 px-3 py-2 text-xs font-semibold text-white shadow hover:bg-indigo-600"
            %div{ class: "rounded-2xl border border-slate-800 bg-slate-950/70 p-4" }
              %p.text-xs.font-semibold.uppercase.tracking-wide.text-slate-400 How it fits your day
              %ul.mt-3.space-y-2.text-sm.text-slate-200
                %li.flex.items-start.gap-2
                  %span.text-indigo-300 aria-hidden="true" â€¢
                  Short timers make it easy to check in between tasks.
                %li.flex.items-start.gap-2
                  %span.text-indigo-300 aria-hidden="true" â€¢
                  Equip up to three pets; their abilities unlock new paths.
                %li.flex.items-start.gap-2
                  %span.text-indigo-300 aria-hidden="true" â€¢
                  Revisit to collect chests, claim drops, and evolve your team.

    %section#hatch.space-y-4
      %h2.text-2xl.font-bold.text-white Hatch experience
      %p.max-w-3xl.text-sm.text-slate-300
        Incubation and hatching are optimized for phones and tablets: large touch targets, sticky action buttons, and Turbo-powered updates so you never lose your place while swapping apps.
      .grid.gap-4.md:grid-cols-3
        - [%w[Incubate "Start a 15-second timer. We queue a notification for when it finishes."], %w[Glow "Watch the shell pulse while you play or shop."], %w[Hatch "Crack it open for your first companion and auto-slot them."]].each do |title, body|
          %div{ class: "rounded-2xl border border-slate-800 bg-slate-900/60 p-4 shadow-lg shadow-slate-950/40" }
            %p.text-sm.font-semibold.text-white= title
            %p.mt-2.text-sm.text-slate-300= body

    %section#loop.space-y-4
      %h2.text-2xl.font-bold.text-white Why parties matter
      %p.max-w-3xl.text-sm.text-slate-300
        Every pet brings elemental types and special abilities that gate zones, encounters, and loot. Even your Starter Egg can unlock unique support paths once hatched.
      .grid.gap-4.sm:grid-cols-2
        %div{ class: "rounded-2xl border border-slate-800 bg-slate-900/60 p-4" }
          %p.text-xs.uppercase.tracking-wide.text-slate-400 Slots & Synergy
          %p.mt-2.text-sm.text-slate-100 Equip up to three pets; their combined tags unlock hidden routes.
        %div{ class: "rounded-2xl border border-slate-800 bg-slate-900/60 p-4" }
          %p.text-xs.uppercase.tracking-wide.text-slate-400 Snackable Runs
          %p.mt-2.text-sm.text-slate-100 Expeditions run 1â€“15 minutes with checkpointed encounters.

    %section#devices.space-y-3.mb-8
      %h2.text-2xl.font-bold.text-white Built for every screen
      %p.max-w-3xl.text-sm.text-slate-300
        Responsive layout keeps CTAs reachable on phones, clean grids on tablets, and split panels on desktop. Everything is Turbo-ready so page pieces swap without reloads.
      .flex.flex-wrap.items-center.gap-3
        %span{ class: "rounded-full border border-slate-800 bg-slate-900/70 px-3 py-2 text-xs font-semibold text-slate-200" } Mobile-first touch targets
        %span{ class: "rounded-full border border-slate-800 bg-slate-900/70 px-3 py-2 text-xs font-semibold text-slate-200" } Offline-friendly timers
        %span{ class: "rounded-full border border-slate-800 bg-slate-900/70 px-3 py-2 text-xs font-semibold text-slate-200" } Turbo frames for partial refresh
