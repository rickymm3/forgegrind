<div id="inventory-items-grid" class="space-y-4">
  <div class="flex items-center justify-between">
    <div>
      <h2 class="text-lg font-semibold text-slate-100">Items</h2>
      <p class="text-xs text-slate-400">Consumables, equipment, and materials currently in your pack.</p>
    </div>
    <span class="text-xs text-slate-400 uppercase">Stacks: <%= items.count %></span>
  </div>

  <% if items.blank? %>
    <div class="rounded-2xl border border-slate-700/60 bg-slate-900/50 px-6 py-8 text-center text-sm text-slate-400">
      You do not have any items yet. Hatch eggs or open containers to receive supplies.
    </div>
  <% else %>
    <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4">
      <% items.each do |user_item| %>
        <% item = user_item.item %>
        <% icon = ApplicationController.helpers.care_item_image_path(item.item_type) %>
        <% description = item_description(item) || "A useful item for caring for your pets." %>
        <div class="flex flex-col justify-between rounded-2xl border border-slate-700/60 bg-slate-900/60 p-4 transition hover:border-emerald-400/60 hover:shadow-lg"
             data-action="click->inventory#selectEntry"
             data-entry-type="item"
             data-name="<%= item.name %>"
             data-description="<%= description %>"
             data-icon="<%= icon %>"
             data-quantity="<%= user_item.quantity %>"
             data-item-type="<%= item.item_type %>">
          <div class="flex items-start gap-3">
            <img alt="<%= item.name %>" src="<%= icon %>" class="h-12 w-12 rounded-xl bg-slate-800/80 object-contain p-2">
            <div class="space-y-1">
              <p class="text-sm font-semibold text-slate-100"><%= item.name %></p>
              <p class="text-xs text-slate-400 uppercase tracking-wide"><%= item.item_type.humanize %></p>
              <p class="text-xs text-slate-500">
                <span class="inline-flex items-center gap-1 rounded-full bg-emerald-500/20 px-2 py-0.5 text-[11px] text-emerald-200">
                  Qty: <%= user_item.quantity %>
                </span>
              </p>
            </div>
          </div>
          <div class="mt-4 flex gap-2"
               data-action="click->inventory#stopPropagation">
            <button type="button"
                    class="inline-flex items-center gap-1 rounded-lg bg-slate-800 px-3 py-1.5 text-xs font-semibold text-slate-200 transition hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-emerald-400"
                    data-entry-action="inspect">
              Inspect
            </button>
            <button type="button"
                    class="inline-flex items-center gap-1 rounded-lg bg-slate-700/70 px-3 py-1.5 text-xs font-semibold text-slate-400 cursor-not-allowed"
                    disabled>
              Use
            </button>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
